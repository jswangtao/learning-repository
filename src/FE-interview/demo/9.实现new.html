<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function _new(Fn,...args) {
        var obj = {} // åˆ›å»ºç©ºå¯¹è±¡
        obj.__proto__ = Fn.prototype // å°†objçš„åŽŸåž‹é“¾__proto__æŒ‡å‘æž„é€ å‡½æ•°çš„åŽŸåž‹prototype
        obj.__proto__.constructor = Fn // åœ¨åŽŸåž‹é“¾ __proto__ä¸Šè®¾ç½®æž„é€ å‡½æ•°çš„æž„é€ å™¨constructorï¼Œä¸ºäº†å®žä¾‹åŒ–Fn
        Fn.apply(obj, args) // æ‰§è¡ŒFnï¼Œå¹¶å°†æž„é€ å‡½æ•°Fnæ‰§è¡Œobj
        return obj // è¿”å›žç»“æžœ
      }

      function Fn(name) {
        this.name = name
        this.sayName = function () {
          console.log(this.name)
        }
      }

      Fn.prototype.say = function (msg) {
        console.log(`${this.name} ${msg}`)
      }

      const fn = _new(Fn, 'Ksmith')
      console.log('ðŸš€ðŸš€ðŸš€wimi======>>>fn', fn)
      fn.say('Hello World') // Ksmith Hello World
      fn.sayName() // Ksmith
      console.log(fn.name) // Ksmith
    </script>
  </body>
</html>
